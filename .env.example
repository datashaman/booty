# Required: GitHub webhook secret
WEBHOOK_SECRET=

# Required: Target repository URL (for dogfooding: https://github.com/datashaman/booty)
TARGET_REPO_URL=https://github.com/owner/repo

# Required: GitHub token (for cloning, pushing, and opening PRs)
GITHUB_TOKEN=

# Optional: Verifier (GitHub App) - posts booty/verifier check runs on PRs
# When both set, Verifier runs on every PR; when empty, Verifier disabled
# Same App used for Security and Reviewer (booty/security, booty/reviewer)
# GITHUB_APP_ID=
# GITHUB_APP_PRIVATE_KEY=
# VERIFIER_WORKER_COUNT=2
# SECURITY_WORKER_COUNT=2
# REVIEWER_WORKER_COUNT=2

# Magentic LLM configuration
MAGENTIC_BACKEND=anthropic
MAGENTIC_ANTHROPIC_API_KEY=
MAGENTIC_ANTHROPIC_MODEL=claude-sonnet-4-5
# Complex plans (many files) need 32768+; default 32768 to avoid max_tokens truncation
MAGENTIC_ANTHROPIC_MAX_TOKENS=32768
MAGENTIC_ANTHROPIC_TEMPERATURE=0.0

# Optional: Target branch (default: main)
# TARGET_BRANCH=main

# Optional: Label that triggers the bot (default: agent)
# TRIGGER_LABEL=agent

# Required for Sentry webhook (Observability agent). Use dev-dummy-secret locally.
SENTRY_WEBHOOK_SECRET=dev-dummy-secret

# Optional: Observability severity filter (default: error). fatal, error, warning, info, debug
# OBSV_MIN_SEVERITY=error
# OBSV_COOLDOWN_HOURS=6.0
# OBSV_SPOOL_PATH=/tmp/booty-sentry-spool.jsonl

# Optional: Planner Agent — plans from issues (agent), incidents, CLI text
# PLANNER_ENABLED=true
# PLANNER_STATE_DIR=~/.booty/state
# PLANNER_CACHE_TTL_HOURS=24

# Optional: Architect Agent — plan validation before Builder; config in .booty.yml
# ARCHITECT_ENABLED=true   # 1/true/yes or 0/false/no
# ARCHITECT_CACHE_TTL_HOURS=24

# Optional: Release Governor — gates production deploys (workflow_run trigger)
# Config from repo .booty.yml; env overrides:
# RELEASE_GOVERNOR_ENABLED=true
# RELEASE_GOVERNOR_APPROVED=true   # For HIGH-risk approval (env mode)
# RELEASE_GOVERNOR_STATE_DIR=~/.booty/state
# RELEASE_GOVERNOR_OVERRIDE_POLL_SEC=120
# RELEASE_GOVERNOR_COOLDOWN_MINUTES=30
# RELEASE_GOVERNOR_MAX_DEPLOYS_PER_HOUR=6
# RELEASE_GOVERNOR_VERIFICATION_WORKFLOW_NAME=verify
# RELEASE_GOVERNOR_DEPLOY_WORKFLOW_NAME=deploy
# RELEASE_GOVERNOR_PRODUCTION_ENVIRONMENT_NAME=production
# RELEASE_GOVERNOR_REQUIRE_APPROVAL_FOR_FIRST_DEPLOY=true
# RELEASE_GOVERNOR_APPROVAL_MODE=environment  # environment, label, comment
# RELEASE_GOVERNOR_APPROVAL_LABEL=release:approved
# RELEASE_GOVERNOR_APPROVAL_COMMAND=/approve
# RELEASE_GOVERNOR_MEDIUM_RISK_PATHS=pyproject.toml,package.json

# Optional: Security Agent — merge veto (secrets, vulns, permission drift)
# Config from repo .booty.yml; env overrides:
# SECURITY_ENABLED=true
# SECURITY_FAIL_SEVERITY=high      # high, critical

# Optional: Reviewer Agent — code quality review on agent PRs (same App as Verifier/Security)
# Config from repo .booty.yml; env overrides:
# REVIEWER_ENABLED=true            # 1/true/yes or 0/false/no; wins over file config
# REVIEWER_WORKER_COUNT=2

# Optional: Sentry APM (error tracking, release correlation)
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=production
# SENTRY_SAMPLE_RATE=1.0

# Optional: Memory Agent — durable, queryable knowledge from system events
# Config from repo .booty.yml; env overrides:
# MEMORY_ENABLED=true
# MEMORY_RETENTION_DAYS=90
# MEMORY_MAX_MATCHES=3
# MEMORY_STATE_DIR=~/.booty/state

# Optional: Self-modification (required for dogfooding Booty on Booty)
# BOOTY_OWN_REPO_URL=https://github.com/datashaman/booty
# BOOTY_SELF_MODIFY_ENABLED=true
# BOOTY_SELF_MODIFY_REVIEWER=YOUR_GITHUB_USERNAME
