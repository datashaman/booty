# Milestone v1.0: MVP

**Status:** âœ… SHIPPED 2026-02-14
**Phases:** 1-4
**Total Plans:** 13

## Overview

Booty evolves from webhook handler to self-managing builder in four phases. Phase 1 establishes reliable webhook-to-workspace infrastructure with async job processing. Phase 2 adds LLM-powered issue analysis and code generation to deliver end-to-end issue-to-PR automation. Phase 3 introduces test execution with iterative refinement loops to ensure quality. Phase 4 activates the unique differentiator: Booty building Booty through self-modification.

## Phases

### Phase 1: Webhook-to-Workspace Pipeline

**Goal**: Receive GitHub webhook events and prepare isolated workspaces for code generation
**Depends on**: Nothing (first phase)
**Plans**: 2 plans

Plans:
- [x] 01-01: Project skeleton, configuration store, and structured logging
- [x] 01-02: Webhook handler, async job queue, and repository manager

**Components built**:
- Configuration Store (environment-based config with Pydantic validation)
- Webhook Gateway (FastAPI endpoint with HMAC signature verification)
- Repository Manager (fresh clone to temp directories, branch creation, cleanup)
- Event Orchestrator (basic job state tracking, async execution)
- Structured logging foundation (correlation IDs, JSON output)

### Phase 2: LLM Code Generation

**Goal**: Analyze GitHub issues and generate working code changes as pull requests
**Depends on**: Phase 1 (needs workspace isolation and job orchestration)
**Plans**: 5 plans

Plans:
- [x] 02-01: Dependencies, config settings, and Pydantic LLM models
- [x] 02-02: Path security restrictions and code validation
- [x] 02-03: Git commit/push operations and PR creation
- [x] 02-04: LLM prompts (issue analysis, code generation) and token budget
- [x] 02-05: Orchestrator wiring into process_job pipeline

**Components built**:
- Issue Analyzer (magentic-based LLM extraction of requirements from issue text)
- Code Generator (LLM code production with context budgeting, applies changes to workspace)
- Git Operator (conventional commits, branch push, PR creation via PyGithub)
- Context budget tracking (token counting, file selection, overflow detection)
- Basic security controls (path restrictions, input sanitization)

### Phase 3: Test-Driven Refinement

**Goal**: Ensure generated code passes tests through iterative refinement with failure feedback
**Depends on**: Phase 2 (needs working code generation)
**Plans**: 3 plans

Plans:
- [x] 03-01: Test runner module: .booty.yml config, async subprocess executor, output parser
- [x] 03-02: GitHub failure handling: draft PR support, issue failure comments
- [x] 03-03: Refinement loop, LLM regeneration prompt, pipeline integration

**Components built/modified**:
- Test Runner (subprocess execution with timeout, captures pass/fail status and output)
- Event Orchestrator enhancement (retry loops with feedback, max attempt limits)
- Error notification system (GitHub issue comments, draft PR with partial work)
- Retry strategy (exponential backoff for transient errors, iteration limits)

### Phase 4: Self-Modification

**Goal**: Enable Booty to process issues against its own repository with the same quality gates as external repos
**Depends on**: Phase 3 (needs proven reliable pipeline with quality gates)
**Plans**: 3 plans

Plans:
- [x] 04-01: Self-target detection, config settings, protected paths, safety module
- [x] 04-02: Quality gate runner (ruff), PR label/reviewer support, rejection comments
- [x] 04-03: Pipeline integration: webhook wiring, protected path validation, quality checks, draft PR flow

**Components built/modified**:
- Self-referential configuration (Booty repo as valid target)
- Enhanced safety rails for self-modification (additional path restrictions, human approval hooks)
- Bootstrap validation (verify initial Booty code handles self-building)

---

## Milestone Summary

**Decimal Phases:** None (clean sequential execution)

**Key Decisions:**
- Start with Builder only (avoid protocol/abstraction quicksand)
- Magentic for LLM abstraction (decorator-based, type-safe, multi-backend)
- GitHub webhooks for triggering (event-driven, not polling)
- Fresh clone per task (isolation prevents stale state)
- Label-based issue filtering (explicit opt-in via label)
- Pydantic Settings for config (type-safe environment validation)
- Full file generation model (LLMs struggle with diffs)
- pathspec for pattern matching (gitignore-style, not regex)
- Anthropic token counting API (accurate budget management)
- giturlparse for URL normalization (handles HTTPS/SSH/.git variants)

**Issues Resolved:** None (clean execution, no blockers)

**Issues Deferred:** None

**Technical Debt Incurred:** None identified in audit

---

_For current project status, see .planning/ROADMAP.md_
