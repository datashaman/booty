---
phase: 17-cli-documentation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/release-governor.md
autonomous: true

must_haves:
  truths:
    - "docs/release-governor.md exists with configuration, approval, troubleshooting"
    - "Manual test steps for simulate and trigger"
    - "CLI reference for status, simulate, trigger"
  artifacts:
    - path: docs/release-governor.md
      provides: Release Governor documentation
  key_links:
    - from: docs/release-governor.md
      to: .booty.yml release_governor schema
      via: config section
---

<objective>
Release Governor documentation (GOV-31).

Create docs/release-governor.md: configuration, approval mechanism, troubleshooting, manual test steps. Audience: operators (run deploy, use CLI) and devs (configure .booty.yml).

Purpose: Operator- and developer-facing docs so release governor can be understood, configured, and debugged.
</objective>

<execution_context>
@/Users/marlinf/.claude/get-shit-done/workflows/execute-plan.md
@/Users/marlinf/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/17-cli-documentation/17-CONTEXT.md
@.planning/phases/17-cli-documentation/17-RESEARCH.md
@src/booty/test_runner/config.py
@docs/deploy-setup.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create docs/release-governor.md</name>
  <files>docs/release-governor.md</files>
  <action>
Create docs/release-governor.md with these sections (per 17-CONTEXT and GOV-31):

1. **Overview** — What the Release Governor does; gates production deploy; allow/hold based on risk and approval.

2. **Execution flow** — When Governor runs: verification workflow completes on main (workflow_run, conclusion=success); Governor computes risk from diff vs production_sha; applies decision rules; ALLOW → workflow_dispatch deploy; HOLD → commit status with reason.

3. **CLI reference** — booty governor status, simulate, trigger. For each: syntax, options (--sha, --repo, --json, --show-paths), example. Reference 17-01 output when available.

4. **Configuration** — release_governor block in .booty.yml: enabled, production_environment_name, high_risk_paths, medium_risk_paths, verification_workflow_name, deploy_workflow_name, deploy_workflow_ref, cooldown_minutes, max_deploys_per_hour, approval_mode, approval_label, approval_command, require_approval_for_first_deploy. Env overrides: RELEASE_GOVERNOR_*.

5. **Approval mechanism** — environment (RELEASE_GOVERNOR_APPROVED=true), label (add label to PR), comment (specific command). When each applies. How to unblock HIGH risk holds.

6. **Troubleshooting** — Common holds: deploy_not_configured, first_deploy_required, high_risk_no_approval, cooldown, rate_limit, degraded_high_risk. How to unblock each. Where to look (release.json, commit status).

7. **Manual test steps** — Run simulate with various SHAs (LOW/MEDIUM/HIGH risk); run trigger when ALLOW; verify deploy workflow dispatched. Include exact commands.

Style: Quick reference; inline examples; match deploy-setup.md tone. No separate examples section.
</action>
  <verify>[ -f docs/release-governor.md ] && head -20 docs/release-governor.md</verify>
  <done>docs/release-governor.md created with all sections</done>
</task>

</tasks>

<verification>
- [ ] docs/release-governor.md exists
- [ ] Contains: overview, execution flow, CLI reference, config, approval, troubleshooting, manual test steps
- [ ] Config section covers ReleaseGovernorConfig fields and env overrides
- [ ] Troubleshooting lists common hold reasons and unblock steps
</verification>

<success_criteria>
- docs/release-governor.md complete and accurate
- Operators and devs can configure and use Governor from docs
</success_criteria>

<output>
After completion, create .planning/phases/17-cli-documentation/17-02-SUMMARY.md
</output>
