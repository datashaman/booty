# Phase 20: Dependency Vulnerability Gate — Verification

**Verified:** 2026-02-16
**Status:** passed

## Must-Haves Checked Against Codebase

| # | Criterion | Status | Evidence |
|---|-----------|--------|----------|
| 1 | Lockfile detection: pip (requirements*.txt, pyproject.toml), npm (package-lock.json), composer (composer.lock), cargo (Cargo.lock) | ✓ VERIFIED | src/booty/security/audit.py: LOCKFILE_PATTERNS includes poetry.lock, Pipfile.lock, uv.lock, requirements*.txt, pyproject.toml; node, php, rust patterns |
| 2 | Correct audit tool per ecosystem | ✓ VERIFIED | audit.py: _run_python_audit (pip-audit), _run_node_audit (npm/yarn/pnpm), _run_composer_audit, _run_cargo_audit |
| 3 | FAIL only on severity >= HIGH (config fail_severity) | ✓ VERIFIED | audit.py run_dependency_audit filters by fail_severity; runner fails when audit_result.ok=False |
| 4 | Title "Security failed — critical vulnerability" / "Security failed — high vulnerability" when failed | ✓ VERIFIED | runner.py: title based on audit_result.worst_severity |
| 5 | run_dependency_audit called after run_secret_scan | ✓ VERIFIED | runner.py: audit runs inside prepare_verification_workspace, after secret scan success path |

## SEC Requirements

- **SEC-05:** Security auto-detects ecosystem via lockfiles ✓
- **SEC-06:** Security runs appropriate audit tool ✓
- **SEC-07:** Security FAILs only when severity >= HIGH ✓

## Human Verification

None required — all automated checks passed.

---
*Phase: 20-dependency-vulnerability-gate*
*Verification: 2026-02-16*
